
  // Exported field_instance: '{{ entity_type }}-{{ bundle }}-{{ field_name }}'.
  $field_instances['{{ entity_type }}-{{ bundle }}-{{ field_name }}'] = array(
    'bundle' => '{{ bundle }}',
    'default_value' => NULL,
    'deleted' => 0,
    'description' => '{{ description | raw }}',
    'display' => array(
      'default' => array(
        'label' => 'hidden',
        'module' => 'entityreference',
        'settings' => array(
          'links' => 0,
          'use_content_language' => 1,
          'view_mode' => '{{ view_mode }}',
        ),
        'type' => 'entityreference_entity_view',
        'weight' => {{ weight }},
      ),
    ),
    'entity_type' => '{{ entity_type }}',
    'field_name' => '{{ field_name }}',
    'label' => '{{ label }}',
    'required' => {{ required }},
    'settings' => array(
      'user_register_form' => FALSE,
    ),
    'widget' => array(
      'active' => 1,
{% if widget_type is empty %}{% set widget_type = 'entityreference_autocomplete' %}{% endif %}
{% if widget_type == 'options_select' %}
      'module' => 'options',
      'settings' => array(
        'use_select2' => FALSE,
      ),
      'type' => 'options_select',
{% endif %}
{% if widget_type == 'options_buttons' %}
      'module' => 'options',
      'settings' => array(
        'use_select2' => FALSE,
      ),
      'type' => 'options_buttons',
{% endif %}
{% if widget_type == 'inline_entity_form' %}
      'module' => 'inline_entity_form',
      {% if widget_settings is not empty %}
        'settings' => array(
        'fields' => array(),
        {% if widget_settings.type_settings is not empty %}
          'type_settings' => array(
          'allow_clone' => {{ widget_settings.type_settings.allow_clone | default("0") }},
          'allow_existing' => {{ widget_settings.type_settings.allow_existing | default("0") }},
          'allow_new' => {{ widget_settings.type_settings.allow_new | default("0") }},
          'delete_references' => {{ widget_settings.type_settings.delete_references | default("0") }},
          'label_plural' => '{{ widget_settings.type_settings.label_plural | default("nodes") }}',
          'label_singular' => '{{ widget_settings.type_settings.label_singular | default("node") }}',
          'match_operator' => '{{ widget_settings.type_settings.match_operator | default("CONTAINS") }}',
          'override_labels' => {{ widget_settings.type_settings.override_labels | default("0") }},
          ),
        {% endif %}
        ),
      {% else %}
        'settings' => array(),
      {% endif %}
      'type' => 'inline_entity_form',
{% endif %}
{% if widget_type == 'entityreference_autocomplete' %}
      'module' => 'entityreference',
      'settings' => array(
        'match_operator' => 'CONTAINS',
        'path' => '',
        'size' => 60,
      ),
      'type' => 'entityreference_autocomplete',
{% endif %}
      'weight' => {{ weight }},
    ),
  );
